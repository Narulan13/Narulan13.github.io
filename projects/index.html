<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday counter</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    Дата вашего рождения :(ДД.MM.ГГГГ)<input type="text" id="myText" value="01.01.2023">
    <p id="ok"></p>
    <p id="days"></p>
    <p id="h"></p>
    <p id="m"></p>
    <p id="s"></p>
    <p id="demo"></p>
    <p id="error"></p>
    <script>
        function myFunction() {
            let x = document.getElementById("myText").value;
            var current = new Date();
            let year = x.substring(6, 10);
            let y = parseInt(year);
            let month = x.substring(3, 5) - 1;
            let day = x.substring(0, 2);
            var newyear = new Date(current.getFullYear()+1, month, day, 0, 0, 0);
            if(year>current.getFullYear()){
                document.getElementById("error").innerHTML = "Вы еще не родились!";
                document.getElementById("ok").innerHTML = ""
                document.getElementById("days").innerHTML = "";
                document.getElementById("h").innerHTML = "";
                document.getElementById("m").innerHTML = "";
                document.getElementById("s").innerHTML = "";
                document.getElementById("demo").innerHTML = "";
            } 
            else{
            var diff = newyear - current;
            var d = Math.floor(diff / 86400000);
            var h = Math.floor(diff % 86400000 / 3600000);
            var m = Math.floor((diff % 3600000) / 60000);
            var s = Math.floor((diff % 60000) / 1000);
            document.getElementById("ok").innerHTML = "До вашего дня рождения осталось :"
            document.getElementById("error").innerHTML = "";
            document.getElementById("days").innerHTML = "Дней: " + d;
            document.getElementById("h").innerHTML = "Часов: " + h;
            document.getElementById("m").innerHTML = "Минут: " + m;
            document.getElementById("s").innerHTML = "Секунд: " + s;
            document.getElementById("demo").innerHTML = "Вам исполняется : " + (newyear.getFullYear()-y);
            }
        }
        setInterval(myFunction, 1000);
    </script>
</body>

</html>
